# Vim 命令大全

## 基本模式

*# 打开文件*

vim filename     *# 打开文件*

vim +n filename    *# 打开文件并跳转到第 n 行*

vim + filename    *# 打开文件并跳转到最后一行*

vim +/pattern file  *# 打开文件并搜索 pattern*

*# 退出*

:q          *# 退出（未修改）*

:q!          *# 强制退出（不保存）*

:wq          *# 保存并退出*

:x          *# 保存并退出（等同于 :wq）*

ZZ          *# 保存并退出（命令模式）*

ZQ          *# 不保存退出（命令模式）*

## 模式切换

i           # 进入插入模式（光标前）

a           # 进入插入模式（光标后）

o           # 在下一行插入

O           # 在上一行插入

I           # 在行首插入

A           # 在行尾插入

s           # 删除当前字符并插入

S           # 删除当前行并插入

v           # 进入可视模式（字符选择）

V           # 进入可视模式（行选择）

Ctrl+v        # 进入可视模式（块选择）

Esc          # 退出到命令模式

## 光标移动

### 基本移动

h           # 左移一个字符

l           # 右移一个字符

j           # 下移一行

k           # 上移一行

w           # 移动到下一个单词开头

W           # 移动到下一个单词开头（忽略标点）

e           # 移动到单词末尾

E           # 移动到单词末尾（忽略标点）

b           # 移动到上一个单词开头

B           # 移动到上一个单词开头（忽略标点）

0           # 移动到行首

^           # 移动到行首第一个非空白字符

$           # 移动到行尾

g_          # 移动到行尾最后一个非空白字符

### 页面移动

H           # 移动到屏幕顶部

M           # 移动到屏幕中间

L           # 移动到屏幕底部

gg          # 移动到文件开头

G           # 移动到文件末尾

:n          # 跳转到第 n 行

nG          # 跳转到第 n 行

Ctrl+f        # 向前翻页

Ctrl+b        # 向后翻页

Ctrl+d        # 向下滚动半页

Ctrl+u        # 向上滚动半页

### 搜索移动

/pattern       # 向前搜索 pattern

?pattern       # 向后搜索 pattern

n           # 下一个匹配

N           # 上一个匹配

\*           # 搜索当前单词（向前）

\#           # 搜索当前单词（向后）

f{char}        # 向前移动到字符 char

F{char}        # 向后移动到字符 char

t{char}        # 向前移动到字符 char 前

T{char}        # 向后移动到字符 char 后

;           # 重复上次 f/F/t/T

,           # 反向重复上次 f/F/t/T

## 编辑命令

### 删除

x           # 删除当前字符

X           # 删除前一个字符

dd          # 删除当前行

D           # 删除到行尾

dw          # 删除一个单词

d$          # 删除到行尾

d0          # 删除到行首

d^          # 删除到行首第一个非空白字符

diw          # 删除当前单词（不包括空格）

daw          # 删除当前单词（包括空格）

di"          # 删除引号内的内容

da"          # 删除引号和内容

### 复制和粘贴

yy          # 复制当前行

Y           # 复制当前行

yw          # 复制一个单词

y$          # 复制到行尾

y0          # 复制到行首

p           # 粘贴到光标后

P           # 粘贴到光标前

"ayy         # 复制到寄存器 a

"ap          # 粘贴寄存器 a 的内容

### 撤销和重做

u           # 撤销

Ctrl+r        # 重做

U           # 撤销整行操作

### 替换

r{char}        # 替换当前字符

R           # 进入替换模式

s           # 删除当前字符并进入插入模式

S           # 删除当前行并进入插入模式

cc          # 删除当前行并进入插入模式

cw          # 删除单词并进入插入模式

c$          # 删除到行尾并进入插入模式

## 查找和替换

/pattern       # 搜索 pattern

?pattern       # 反向搜索 pattern

n           # 下一个匹配

N           # 上一个匹配

:s/old/new/      # 替换当前行第一个 old 为 new

:s/old/new/g     # 替换当前行所有 old 为 new

:%s/old/new/g     # 替换全文所有 old 为 new

:%s/old/new/gc    # 替换全文（需要确认）

:5,10s/old/new/g   # 替换第 5-10 行的 old 为 new

## 多文件操作

:e filename      # 打开新文件

:sp filename     # 水平分割窗口打开文件

:vsp filename     # 垂直分割窗口打开文件

:bn          # 下一个缓冲区

:bp          # 上一个缓冲区

:bd          # 关闭当前缓冲区

:ls          # 列出所有缓冲区

Ctrl+w w       # 切换窗口

Ctrl+w h/j/k/l    # 切换到左/下/上/右窗口

Ctrl+w =       # 平均分配窗口大小

Ctrl+w +       # 增加窗口高度

Ctrl+w -       # 减少窗口高度

## 标记和跳转

ma          # 设置标记 a

'a          # 跳转到标记 a

``          # 跳转到上次位置

''          # 跳转到上次位置（行首）

:marks        # 查看所有标记

## 缩进

\>>          # 向右缩进

<<          # 向左缩进

\>G          # 缩进到文件末尾

\>}          # 缩进到段落末尾

=G          # 自动缩进到文件末尾

gg=G         # 自动缩进整个文件

## 高级操作

### 宏录制

qa          # 开始录制宏到寄存器 a

q           # 停止录制

@a          # 执行寄存器 a 的宏

@@          # 重复上次执行的宏

### 折叠

zf          # 创建折叠

zo          # 打开折叠

zc          # 关闭折叠

za          # 切换折叠

zd          # 删除折叠

zR          # 打开所有折叠

zM          # 关闭所有折叠

### 行号

:set number      # 显示行号

:set nonumber     # 隐藏行号

:set nu        # 显示行号（简写）

:set rnu       # 显示相对行号

## 常用配置命令

:set tabstop=4    # 设置 tab 为 4 个空格

:set shiftwidth=4   # 设置缩进为 4 个空格

:set expandtab    # 将 tab 转换为空格

:set noexpandtab   # 不转换 tab

:set autoindent    # 自动缩进

:set syntax=on    # 开启语法高亮

:set wrap       # 自动换行

:set nowrap      # 不自动换行

:set hlsearch     # 高亮搜索结果

:noh         # 取消高亮

## 实用技巧

.           # 重复上次操作

~           # 切换大小写

gUw          # 将单词转为大写

guw          # 将单词转为小写

gUU          # 将整行转为大写

guu          # 将整行转为小写

J           # 合并下一行到当前行

gJ          # 合并下一行（不添加空格）

## 文件操作

:w          # 保存

:w filename      # 另存为

:wq          # 保存并退出

:q          # 退出

:q!          # 强制退出

:e!          # 重新加载文件（放弃修改）

:r filename      # 读取文件内容插入

:r !command      # 执行命令并插入结果

## 帮助

:help         # 打开帮助

:help topic      # 查看特定主题帮助

:q          # 退出帮助

## 快速参考卡

模式切换: i/a/o/O → 插入模式, Esc → 命令模式

移动: h/j/k/l, w/b, 0/$, gg/G

编辑: dd/yy/cc, p/P, u/Ctrl+r

搜索: /pattern, n/N

替换: :s/old/new/g

保存退出: :wq 或 ZZ

这些是常用的 Vim 命令。建议先掌握基本移动、编辑和保存退出，再逐步学习高级功能。